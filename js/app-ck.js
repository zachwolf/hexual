(function(){function a(a,b){var c=Math.floor(Math.random()*(b-a+1))+a;c<=0&&(c=1);return c}$(".fancy-banner").css("height",44);var b={body:$("body"),colors:$(".color"),colorCount:$(".color").length,overBanner:!1,fancyBanners:$(".fancy-banner").on("mouseenter",function(a){var c=b;c.overBanner=!0;c.togglePrev()}).on("mouseleave",function(a){var c=b;c.overBanner=!1;c.togglePrev()}),logoBanner:$("#logo-wrap"),windowWidth:window.innerWidth,modulus:"",remainder:this.windowWidth%this.colorCount,variant:5,resizeDelay:400,fancyLabel:$("<a></a>",{"class":"fancyLabel",css:{left:0}}),init:function(){function b(){a.windowWidth!=window.innerWidth&&a.resize(a)}var a=this,c=!1;$(window).resize(function(){c!==!1&&clearTimeout(c);c=setTimeout(b,a.resizeDelay)});this.fancyLabel.appendTo(this.logoBanner).hide();this.fancyLabelWidth=this.fancyLabel.width();this.modulus=Math.floor(this.windowWidth/this.colorCount);this.create();this.fancyBanners.slideDown(500);$("#about-link, .paperclip-back").animate({top:20},500)},create:function(){var a=this;a.linkClassList=new Array;$.each(a.colors,function(b,c){var d=$(c),e=d.attr("id"),f=d.find("h3").html();$link=$("<a></a>",{href:"#"+e,html:f,css:{height:"100%",width:1,background:f},"class":"quick-link "+e}).on("mouseenter mouseleave",function(b){a.markHovering($(this),b)}).appendTo(a.fancyBanners),$className=$link.attr("class").split(" "),$search="";$.each($className,function(a,b){$search+="."+b});a.linkClassList.push($($search))});a.resize(a)},resize:function(b){var b=this;b.windowWidth=window.innerWidth;var c=window.innerWidth;$.each(b.linkClassList,function(d,e){$thisWidth=a(b.modulus-b.variant,b.modulus+b.variant);$(e).css("width",$thisWidth);c-=$thisWidth});b.removeExtraSpace(b,c)},removeExtraSpace:function(b,c){var d=c;$abs=Math.abs(c);if(d!=0)if(d<0)for(var e=$abs;e>0;e--){var f=a(1,b.colorCount),g=$(b.linkClassList[f]),h="";if(g!=undefined){h=g.width();if(g.width()>=1){g.css("width",h-1);d-=1}}}else for(var e=$abs;e>0;e--){var f=a(1,b.colorCount),g=$(b.linkClassList[f]),h="";if(g!=undefined){h=g.width();g.css("width",h+1);d+=1}}},togglePrev:function(){var a=this;a.overBanner==1?a.fancyLabel.show():a.fancyLabel.hide()},markHovering:function(a,b){var c=this,d=$(a),e=d.html(),f=d.attr("class").split(" "),g=f[1],a=$("."+a.attr("class").replace(" ",".")),h=b.type,i=c.fancyLabelWidth,j=d.position().left-i/2+d.width()/2;j<=0?j=0:j+i>=c.windowWidth&&(j=c.windowWidth-i);h=="mouseenter"?a.addClass("hovering"):$(".hovering").removeClass("hovering");this.fancyLabel.html(g).css({"background-color":e,left:j})}};b.init();var c={aboutLink:$("#about-link").on("click",function(a){a.preventDefault();c.hideShow()}),aboutContent:$(".about-content"),topSpacer:$($(".fancy-banner.top")[0]),isShowing:!1,zIndexs:{},init:function(){this.zIndexs.zlink=this.aboutLink.css("z-index");this.zIndexs.xbio=this.aboutContent.css("z-index");this.spacerHeight=this.topSpacer.height()},hideShow:function(){var a=this;a.isShowing==0&&a.aboutContent.stop().animate({height:110},500);a.topSpacer.stop().animate({height:250},500,function(){if(a.isShowing==0){a.isShowing=!0;a.aboutLink.css("z-index",31);a.aboutContent.css({"z-index":10})}else{a.isShowing=!1;a.aboutLink.css("z-index",a.zIndexs.zlink);a.aboutContent.css({"z-index":a.zIndexs.xbio}).stop().animate({height:0},500)}a.topSpacer.stop().animate({height:44},500)})}};c.init();$.fn.preload=function(){this.each(function(){$("<img/>")[0].src=this})};$(["/img/fancyBanner.png","/img/fancyBanner@2x.png","/img/fancyAbout.png","/img/fancyAbout@2x.png","/img/fancyAbout-hovering.png","/img/fancyAbout-hovering@2x.png","/img/fancyAbout-active.png","/img/fancyAbout-active@2x.png","/img/fancyAbout-clipBG.png","/img/fancyAbout-clipBG@2x.png"]).preload()})(jQuery);